(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{599:function(t,e,r){"use strict";r.r(e);var o=r(4),n=r.n(o),c=r(387),h=r(401),l=r(285),f=r(5);function $(t,e,r,o,n,c,h){try{var l=t[c](h),f=l.value}catch(t){return void r(t)}l.done?e(f):Promise.resolve(f).then(o,n)}var m="routes.gb_investment.",v={tab:"gbi_tab"};e.default={name:"GbInvestment",validate:function(t){return(e=n.a.mark((function e(){var r,o,c,h;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.app,o=t.store,c=t.params,Object.keys(o.get("foe/gbs")).length){e.next=6;break}return e.next=4,r.$axios.$get("/foe-data/gbs.json");case 4:h=e.sent,o.set("foe/gbs",h);case 6:return e.abrupt("return",c.gb in o.get("foe/gbs@gbsData"));case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(o,n){var c=e.apply(t,r);function h(t){$(c,o,n,h,l,"next",t)}function l(t){$(c,o,n,h,l,"throw",t)}h(void 0)}))})();var e},head:function(){return this.$store.set("hero",{title:"".concat(m,"hero.title"),titleConfig:{gb_key:this.$t("foe_data.gb."+this.$data.gb.key)},subtitle:"routes.gb_investment_gb_chooser.hero.subtitle"}),{title:this.$t(m+"title",{gb_key:this.$t("foe_data.gb."+this.$data.gb.key)})}},data:function(){this.$route.params.gb in this.$store.get("profile/profiles@[".concat(this.$store.get("global/currentProfile"),"].gb"))||this.$store.set("profile/profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb),this.$clone(f.a.getDefaultGBConf()));var t=this.$clone(this.$store.get("profile/profiles@[".concat(this.$store.get("global/currentProfile"),"].gb[").concat(this.$route.params.gb,"].tab")));t=f.a.inRange(t,0,1)?t:0,this.$store.commit("ADD_URL_QUERY",{key:v.tab,value:t});var data={i18nPrefix:m,gb:this.$store.get("foe/gbs@gbsData[".concat(this.$nuxt._route.params.gb,"]")),levelData:null,gbi_tab:t,errors:{gbi_tab:!1}};return Object.assign(data,this.checkQuery()),data},watch:{gbi_tab:function(t,e){f.a.handlerForm(this,"gbi_tab",0===t.length?0:t,e,[0,1],!this.isPermalink,"profiles@".concat(this.$store.get("global/currentProfile"),".gb.").concat(this.$route.params.gb,".tab"))===f.a.FormCheck.VALID&&this.$store.commit("UPDATE_URL_QUERY",{key:v.tab,value:t})}},methods:{checkQuery:function(){var t={},e=!1;return this.$route.query[v.tab]&&!isNaN(this.$route.query[v.tab])&&f.a.inRange(parseInt(this.$route.query[v.tab]),0,1)&&(e=!0,t.gbi_tab=parseInt(this.$route.query[v.tab])),e&&this.$store.set("isPermalink",!0),t}},components:{gbInvestment:c.a,securePosition:l.a,gbInvestmentInvestors:h.a}}}}]);